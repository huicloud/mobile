//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./android/src/main/java/com/dzhyun/sdk/YFloat.java
//

#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "com/dzhyun/sdk/YFloat.h"
#include "java/lang/Double.h"

static IOSDoubleArray *ComDzhyunSdkYFloat_ratios_;
J2OBJC_STATIC_FIELD_GETTER(ComDzhyunSdkYFloat, ratios_, IOSDoubleArray *)
J2OBJC_STATIC_FIELD_SETTER(ComDzhyunSdkYFloat, ratios_, IOSDoubleArray *)

J2OBJC_INITIALIZED_DEFN(ComDzhyunSdkYFloat)

@implementation ComDzhyunSdkYFloat

+ (ComDzhyunSdkYFloat *)parseFromLongWithLong:(jlong)val {
  return ComDzhyunSdkYFloat_parseFromLongWithLong_(val);
}

+ (jdouble)parseWithLong:(jlong)val {
  return ComDzhyunSdkYFloat_parseWithLong_(val);
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ComDzhyunSdkYFloat_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (void)initialize {
  if (self == [ComDzhyunSdkYFloat class]) {
    JreStrongAssignAndConsume(&ComDzhyunSdkYFloat_ratios_, [IOSDoubleArray newArrayWithDoubles:(jdouble[]){ 1e2, 1e1, 1.0, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1.0 } count:11]);
    J2OBJC_SET_INITIALIZED(ComDzhyunSdkYFloat)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "parseFromLongWithLong:", "parseFromLong", "Lcom.dzhyun.sdk.YFloat;", 0x9, NULL, NULL },
    { "parseWithLong:", "parse", "D", 0x9, NULL, NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "ratios_", NULL, 0xa, "[D", &ComDzhyunSdkYFloat_ratios_, NULL, .constantValue.asLong = 0 },
    { "success_", NULL, 0x1, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "val_", NULL, 0x1, "D", NULL, NULL, .constantValue.asLong = 0 },
    { "ratio_", NULL, 0x1, "D", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ComDzhyunSdkYFloat = { 2, "YFloat", "com.dzhyun.sdk", NULL, 0x1, 3, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComDzhyunSdkYFloat;
}

@end

ComDzhyunSdkYFloat *ComDzhyunSdkYFloat_parseFromLongWithLong_(jlong val) {
  ComDzhyunSdkYFloat_initialize();
  ComDzhyunSdkYFloat *yf = [new_ComDzhyunSdkYFloat_init() autorelease];
  if (val < 0) {
    yf->success_ = false;
    yf->val_ = JavaLangDouble_NaN;
    return yf;
  }
  jlong B = (JreRShift64(val, 16)) & (jint) 0xFF;
  jint L = (jint) (B & (jint) 0x0F);
  jlong H = (JreRShift64(B, 4)) & (jint) 0x0F;
  jdouble Bx = (jdouble) ((JreLShift64((JreRShift64(val, 24)), 16)) + (val & (jint) 0xFFFF));
  yf->ratio_ = IOSDoubleArray_Get(nil_chk(ComDzhyunSdkYFloat_ratios_), L);
  if (H == 1) {
    yf->val_ = -(Bx / IOSDoubleArray_Get(ComDzhyunSdkYFloat_ratios_, L));
  }
  else {
    yf->val_ = (Bx / IOSDoubleArray_Get(ComDzhyunSdkYFloat_ratios_, L));
  }
  return yf;
}

jdouble ComDzhyunSdkYFloat_parseWithLong_(jlong val) {
  ComDzhyunSdkYFloat_initialize();
  ComDzhyunSdkYFloat *yf = ComDzhyunSdkYFloat_parseFromLongWithLong_(val);
  return ((ComDzhyunSdkYFloat *) nil_chk(yf))->val_;
}

void ComDzhyunSdkYFloat_init(ComDzhyunSdkYFloat *self) {
  NSObject_init(self);
}

ComDzhyunSdkYFloat *new_ComDzhyunSdkYFloat_init() {
  ComDzhyunSdkYFloat *self = [ComDzhyunSdkYFloat alloc];
  ComDzhyunSdkYFloat_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComDzhyunSdkYFloat)
